# ==============================================
# BLACKEYESARTISAN MEDUSA API - ENVIRONMENT CONFIG
# ==============================================

# Environment
NODE_ENV=development  # development | production

# ==============================================
# CORS Configuration
# ==============================================
STORE_CORS=http://localhost:8000,http://localhost:3000  # Comma-separated storefront URLs
ADMIN_CORS=http://localhost:7000,http://localhost:9000  # Comma-separated admin panel URLs
AUTH_CORS=http://localhost:7000,http://localhost:9000   # Comma-separated auth URLs

# ==============================================
# Database Configuration
# ==============================================
DATABASE_URL=postgresql://medusa:medusa@localhost:5432/medusa
DATABASE_LOGGING=false  # Enable SQL query logging (development only)

# ==============================================
# Redis Configuration (Required for production)
# Enables: caching, event bus, workflow engine
# ==============================================
REDIS_URL=redis://localhost:6379

# ==============================================
# Security Secrets
# Generate with: openssl rand -base64 32
# ==============================================
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
COOKIE_SECRET=your-super-secret-cookie-key-min-32-chars

# ==============================================
# Admin Panel
# ==============================================
MEDUSA_BACKEND_URL=http://localhost:9000
DISABLE_MEDUSA_ADMIN=false

# ==============================================
# Worker Mode (Production scaling)
# Options: shared | worker | server
# - shared: API and workers in same process (default)
# - server: API only, no background jobs
# - worker: Background jobs only, no API
# ==============================================
MEDUSA_WORKER_MODE=shared

# ==============================================
# DigitalOcean Spaces / S3 Storage
# ==============================================
DO_SPACE_URL=https://your-space.nyc3.digitaloceanspaces.com
DO_SPACE_ACCESS_KEY=your-access-key
DO_SPACE_SECRET_KEY=your-secret-key
DO_SPACE_ENDPOINT=https://nyc3.digitaloceanspaces.com
DO_SPACE_BUCKET=your-bucket-name
DO_SPACE_REGION=nyc3
DO_SPACE_CDN=https://your-cdn-url  # Optional: CDN URL for assets

# ==============================================
# Stripe Payment Gateway
# ==============================================
STRIPE_API_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ==============================================
# Resend Email Service
# ==============================================
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=orders@blackeyesartisan.com

# ==============================================
# Feature Flags
# ==============================================
MEDUSA_FF_INDEX_ENGINE=true  # Enable product search indexing

# ==============================================
# Test Environment (for integration tests)
# ==============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=medusa_test
DB_USER=medusa
DB_PASSWORD=medusa
