# ==============================================
# BLACKEYESARTISAN STRAPI CMS - ENVIRONMENT CONFIG
# ==============================================

# Environment
NODE_ENV=development  # development | production

# ==============================================
# Server Configuration
# ==============================================
HOST=0.0.0.0
PORT=1337
PUBLIC_URL=http://localhost:1337  # Public URL for the Strapi server

# ==============================================
# Security Secrets (REQUIRED)
# Generate with: openssl rand -base64 32
# ==============================================
APP_KEYS=key1-min-32-chars-base64,key2-min-32-chars-base64
API_TOKEN_SALT=your-api-token-salt-min-32-chars
ADMIN_JWT_SECRET=your-admin-jwt-secret-min-32-chars
TRANSFER_TOKEN_SALT=your-transfer-token-salt-min-32-chars
JWT_SECRET=your-jwt-secret-min-32-chars

# ==============================================
# Database Configuration
# ==============================================
# Option 1: Connection URL (recommended for production)
DATABASE_URL=postgresql://strapi:strapi@localhost:5432/strapi

# Option 2: Individual parameters (if not using URL)
DATABASE_CLIENT=postgres  # postgres | mysql | sqlite
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=strapi
DATABASE_USERNAME=strapi
DATABASE_PASSWORD=strapi
DATABASE_SCHEMA=public
DATABASE_SSL=false

# Database Pool (Production optimization)
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_CONNECTION_TIMEOUT=60000
DATABASE_ACQUIRE_TIMEOUT=30000
DATABASE_IDLE_TIMEOUT=30000
DATABASE_STATEMENT_TIMEOUT=30000  # Query timeout in ms

# Database Debug (development only)
DATABASE_DEBUG=false

# ==============================================
# DigitalOcean Spaces / S3 Storage
# ==============================================
DO_SPACE_PATH=uploads  # Root path for uploads
DO_SPACE_ACCESS_KEY=your-access-key
DO_SPACE_SECRET_KEY=your-secret-key
DO_SPACE_REGION=nyc3
DO_SPACE_ENDPOINT=https://nyc3.digitaloceanspaces.com
DO_SPACE_BUCKET=your-bucket-name
SPACE_URL=https://your-space.nyc3.digitaloceanspaces.com  # Public URL for media

# Upload limits
UPLOAD_SIZE_LIMIT=10485760  # 10MB in bytes

# ==============================================
# CORS Configuration
# ==============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8000  # Comma-separated frontend URLs

# ==============================================
# API Configuration
# ==============================================
API_DEFAULT_LIMIT=25
API_MAX_LIMIT=100

# ==============================================
# Email Configuration (Optional)
# ==============================================
EMAIL_PROVIDER=sendmail  # sendmail | nodemailer
EMAIL_DEFAULT_FROM=noreply@blackeyesartisan.com
EMAIL_DEFAULT_REPLY_TO=support@blackeyesartisan.com

# ==============================================
# JWT Configuration
# ==============================================
JWT_EXPIRES_IN=7d  # Token expiration time

# ==============================================
# Webhooks Configuration
# ==============================================
WEBHOOKS_POPULATE_RELATIONS=false  # Disable for better performance

# ==============================================
# Cron Jobs
# ==============================================
CRON_ENABLED=true

# ==============================================
# Feature Flags
# ==============================================
FLAG_NPS=false  # Net Promoter Score survey
FLAG_PROMOTE_EE=false  # Enterprise Edition promotion

# ==============================================
# Socket Configuration
# ==============================================
SOCKET_TIMEOUT=60000  # Socket timeout in ms
